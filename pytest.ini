[pytest]
testpaths = src/tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts =
    -v
    --strict-markers
    --tb=short
    --cov=src/core
    --cov=src/api
    --cov=src/agents
    --cov-report=term-missing
    --cov-report=html
    --maxfail=1
markers =
    unit: Fast, isolated unit tests (< 1s each)
    integration: Integration tests with multiple components (< 5s each)
    bdd: BDD scenario tests using Gherkin features
    e2e: End-to-end tests of full pipeline (< 30s each)
    golden: Golden path critical tests that must always pass
    slow: Slow tests that take > 5 seconds
    slice01: Tests for Slice 01 (RSS Feed Fetcher)
    slice02: Tests for Slice 02 (AI Summarizer)
    slice03: Tests for Slice 03 (LinkedIn Post Composer)
    slice04: Tests for Slice 04 (Scheduler)
    slice05: Tests for Slice 05 (LinkedIn Publisher)
    slice06: Tests for Slice 06 (Observability)
    slice07: Tests for Slice 07 (Source Discovery Agent)
asyncio_mode = auto
